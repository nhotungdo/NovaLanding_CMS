@page
@model NovaLanding.Pages.DashboardModel
@{
    ViewData["Title"] = "Dashboard";
}

<div class="container mt-5">
    <h2>Welcome to NovaLanding</h2>
    <p class="text-muted">Build beautiful landing pages with our drag-and-drop page builder</p>
    
    <div class="row mt-4">
        <div class="col-md-3">
            <div class="card text-center">
                <div class="card-body">
                    <i class="bi bi-file-earmark-text" style="font-size: 3rem; color: #0d6efd;"></i>
                    <h5 class="card-title mt-3">My Pages</h5>
                    <p class="card-text">Create and manage your landing pages</p>
                    <a href="/Pages" class="btn btn-primary">View Pages</a>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card text-center">
                <div class="card-body">
                    <i class="bi bi-images" style="font-size: 3rem; color: #198754;"></i>
                    <h5 class="card-title mt-3">Media Library</h5>
                    <p class="card-text">Upload and manage your media files</p>
                    <a href="/Media" class="btn btn-success">View Media</a>
                </div>
            </div>
        </div>
        <div class="col-md-3" id="templatesCard" style="display:none;">
            <div class="card text-center">
                <div class="card-body">
                    <i class="bi bi-grid-3x3" style="font-size: 3rem; color: #ffc107;"></i>
                    <h5 class="card-title mt-3">Templates</h5>
                    <p class="card-text">Manage block templates (Admin)</p>
                    <a href="/Admin/Templates" class="btn btn-warning">View Templates</a>
                </div>
            </div>
        </div>
        <div class="col-md-3">
            <div class="card text-center">
                <div class="card-body">
                    <i class="bi bi-person-circle" style="font-size: 3rem; color: #6c757d;"></i>
                    <h5 class="card-title mt-3">Profile</h5>
                    <p class="card-text">Manage your account settings</p>
                    <a href="/Profile" class="btn btn-secondary">View Profile</a>
                </div>
            </div>
        </div>
    </div>
    
    <div class="row mt-5">
        <div class="col-md-12">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">Quick Start Guide</h5>
                    <ol>
                        <li><strong>Create a Page:</strong> Go to "My Pages" and click "Create New Page"</li>
                        <li><strong>Build Your Page:</strong> Use the drag-and-drop builder to add sections from templates</li>
                        <li><strong>Add Media:</strong> Upload images and videos in the Media Library</li>
                        <li><strong>Customize Content:</strong> Click on sections to edit HTML/CSS content</li>
                        <li><strong>Publish:</strong> When ready, click "Publish" to make your page live</li>
                        <li><strong>View:</strong> Access your published page at <code>/view/your-page-slug</code></li>
                    </ol>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        const token = localStorage.getItem('token');
        const user = JSON.parse(localStorage.getItem('user') || '{}');
        
        if (!token) {
            window.location.href = '/Auth/Login';
        }
        
        if (user.role === 'admin') {
            document.getElementById('templatesCard').style.display = 'block';
        }
    </script>
}
