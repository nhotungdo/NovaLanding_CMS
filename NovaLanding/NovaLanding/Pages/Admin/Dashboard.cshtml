@page "/Dashboard"
@model NovaLanding.Pages.DashboardModel
@{
    ViewData["Title"] = "Dashboard";
}

<!-- Dashboard Container -->
<div class="dashboard-container">
    <!-- Header Section -->
    <div class="dashboard-header">
        <div>
            <h1 class="dashboard-title">Dashboard</h1>
            <p class="dashboard-subtitle">Welcome back! Here's what's happening today.</p>
        </div>
        <div class="dashboard-header-actions">
            <button class="btn btn-secondary" onclick="window.location.href='/Media'">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z" />
                </svg>
                Media Library
            </button>
            <button class="btn btn-primary" onclick="window.location.href='/Pages/Builder'">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
                </svg>
                Create New Page
            </button>
        </div>
    </div>

    <!-- Today Overview Section -->
    <div class="section-container">
        <h2 class="section-title">Today Overview</h2>
        <div class="metrics-grid">
            <!-- Pages Metric -->
            <div class="metric-card">
                <div class="icon" style="background: #dbeafe;">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="#3b82f6" style="width: 24px; height: 24px;">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z" />
                    </svg>
                </div>
                <div class="value" id="pagesCount">0</div>
                <div class="label">Total Pages</div>
            </div>

            <!-- Sections Metric -->
            <div class="metric-card">
                <div class="icon" style="background: #d1fae5;">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="#10b981" style="width: 24px; height: 24px;">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M6 6.878V6a2.25 2.25 0 0 1 2.25-2.25h7.5A2.25 2.25 0 0 1 18 6v.878m-12 0c.235-.083.487-.128.75-.128h10.5c.263 0 .515.045.75.128m-12 0A2.25 2.25 0 0 0 4.5 9v.878m13.5-3A2.25 2.25 0 0 1 19.5 9v.878m0 0a2.246 2.246 0 0 0-.75-.128H5.25c-.263 0-.515.045-.75.128m15 0A2.25 2.25 0 0 1 21 12v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6c0-.98.626-1.813 1.5-2.122" />
                    </svg>
                </div>
                <div class="value" id="sectionsCount">0</div>
                <div class="label">Total Sections</div>
            </div>

            <!-- Images Metric -->
            <div class="metric-card">
                <div class="icon" style="background: #fef3c7;">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="#f59e0b" style="width: 24px; height: 24px;">
                        <path stroke-linecap="round" stroke-linejoin="round" d="m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z" />
                    </svg>
                </div>
                <div class="value" id="imagesCount">0</div>
                <div class="label">Media Files</div>
            </div>

            <!-- Users Metric -->
            <div class="metric-card">
                <div class="icon" style="background: #e0e7ff;">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="#6366f1" style="width: 24px; height: 24px;">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z" />
                    </svg>
                </div>
                <div class="value" id="usersCount">0</div>
                <div class="label">Total Users</div>
            </div>
        </div>
    </div>

    <!-- Recent Pages Section -->
    <div class="section-container">
        <div class="section-header">
            <h2 class="section-title">Recent Pages</h2>
            <a href="/Pages" class="text-link">View all â†’</a>
        </div>
        <div class="table-responsive">
            <table>
                <thead>
                    <tr>
                        <th class="sortable" onclick="sortTable('title')">Page</th>
                        <th class="sortable" onclick="sortTable('status')">Status</th>
                        <th class="sortable" onclick="sortTable('updated')">Updated At</th>
                        <th style="text-align: right;">Actions</th>
                    </tr>
                </thead>
                <tbody id="recentPagesTable">
                    <tr>
                        <td colspan="4" style="text-align: center; padding: 3rem; color: var(--color-text-secondary);">
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" style="width: 48px; height: 48px; margin: 0 auto 1rem; opacity: 0.5;">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z" />
                            </svg>
                            <div>No pages yet. Create your first page to get started!</div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Quick Actions Section -->
    <div class="section-container">
        <h2 class="section-title">Quick Actions</h2>
        <div class="quick-actions-grid">
            <button class="btn btn-primary btn-lg" onclick="window.location.href='/Pages/Builder'">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
                </svg>
                Create New Page
            </button>
            <button class="btn btn-secondary btn-lg" onclick="window.location.href='/Media'">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15.75 5.409 10.591a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z" />
                </svg>
                Open Media Library
            </button>
            <button class="btn btn-secondary btn-lg" onclick="window.location.href='/Admin/Settings'" id="settingsBtn" style="display: none;">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293 .241-.438 .613-.43 .992a7.723 7.723 0 0 1 0 .255c-.008 .378 .137 .75 .43 .991l1.004 .827c.424 .35 .534 .955 .26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369 .491l-1.217 -.456c-.355 -.133 -.75 -.072 -1.076 .124a6.47 6.47 0 0 1 -.22 .128c-.331 .183 -.581 .495 -.644 .869l-.213 1.281c-.09 .543 -.56 .94 -1.11 .94h-2.594c-.55 0 -1.019 -.398 -1.11 -.94l-.213 -1.281c-.062 -.374 -.312 -.686 -.644 -.87a6.52 6.52 0 0 1 -.22 -.127c-.325 -.196 -.72 -.257 -1.076 -.124l-1.217 .456a1.125 1.125 0 0 1 -1.369 -.49l-1.297 -2.247a1.125 1.125 0 0 1 .26 -1.431l1.004 -.827c.292 -.24 .437 -.613 .43 -.991a6.932 6.932 0 0 1 0 -.255c.007 -.38 -.138 -.751 -.43 -.992l-1.004 -.827a1.125 1.125 0 0 1 -.26 -1.43l1.297 -2.247a1.125 1.125 0 0 1 1.37 -.491l1.216 .456c.356 .133 .751 .072 1.076 -.124.072 -.044 .146 -.086 .22 -.128.332 -.183 .582 -.495 .644 -.869l.214 -1.28Z" />
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1 -6 0 3 3 0 0 1 6 0Z" />
                </svg>
                Website Settings
            </button>
        </div>
    </div>
</div>

@section Scripts {
    <script src="~/js/dashboard.js"></script>
}
